# **RAG 대규모 Baseline 리포트 (문장형 입력 테스트)**

> **실험 일자**: 2026-01-19
> **테스트 유형**: End-to-End 테스트 (자연어 문장 쿼리)
> **데이터 규모**: 상품 200개 (Products)
> **테스트 쿼리**: 문장형 질의 45개 (Sentences)
> **상태**: ❌ **심각한 성능 저하 (CRITICAL FAILURE)**

---

## **1. 실험 결과 요약**

| 평가지표 (Metric) | 점수 (Score) | 백분율 (%) | 판정 (Verdict) |
| :--- | :--- | :--- | :--- |
| **의도 분류 정확도 (Intent Accuracy)** | 39 / 45 | **86.7%** | ⚠️ 주의 (튜닝 필요) |
| **검색 재현율 (Retrieval Recall)** | 26 / 45 | **57.8%** | ❌ **실패** (매우 낮음) |
| **리랭킹 정밀도 (Rerank Precision)** | 26 / 45 | **57.8%** | ❌ **실패** |

> **핵심 발견**: "설거지할 때 끼는 고무장갑 추천해줘"와 같은 **자연어 문장(Raw Sentence)**을 그대로 벡터 검색에 넣으면, 키워드 검색(72% 수준)보다 성능이 현저히 떨어짐(57.8%). 이는 문장 내 불필요한 단어들이 벡터 유사도를 희석시키기 때문임.

---

## **2. 주요 실패 사례 로그**

| 입력 쿼리 (Sentence) | 의도 예측 | 1차 검색 (K=10) | 리랭킹 (Top1) |
| :--- | :--- | :--- | :--- |
| 그립감 좋은 양피 장갑 추천해줘 | ❌(의류) | ❌ | ❌(세차 타월 세트) |
| 화장실 앞에 깔아두는 매트 추천해줘 | ✅ | ❌ | ❌(바디워시 1+1) |
| 물기 잘 마르는 규조토 발매트 추천해 | ✅ | ❌ | ❌(바디워시 1+1) |
| 집에서 스트레칭할 때 까요는 매트 추 | ✅ | ❌ | ❌(아령 세트 1+1) |
| 층간소음 방지용 두꺼운 운동 매트 추 | ✅ | ❌ | ❌(아령 세트 1+1) |
| 자동차 바닥에 까는 코일 매트 추천해 | ✅ | ❌ | ❌(세차 타월 세트) |
| 변기 안쪽 닦는 청소 솔 추천해줘 | ❌(욕실) | ❌ | ❌(None) |
| 머리 빗는 나무 빗 추천해줘 | ✅ | ❌ | ❌(드라이기 1+1) |

---

## **3. 원인 분석 및 아키텍처적 시사점**

### **3.1 왜 실패했나? (Root Cause)**
*   **벡터 희석 (Vector Dilution)**: 문장 내 "추천해줘", "찾아줘" 같은 서술어와 조사가 임베딩 벡터의 초점을 흐림. 결과적으로 '고무장갑'이라는 핵심 대상보다 '추천'이라는 문맥이나 엉뚱한 카테고리(바디워시 등)와 유사도가 높게 잡힘.
*   **맥락 정보 누락**: "양피 장갑"은 골프/운동용품이지만, 텍스트 자체만으로는 '가죽/의류'와 유사하여 오분류 발생.

### **3.2 아키텍처 검증 결론**
> **"왜 별도의 '의미 추출(Meaning Extraction) 에이전트'가 필수적인가?"**

이번 Baseline 테스트는 **단순 RAG (문장 기반 벡터 검색)** 방식으로는 커머스 검색 품질을 보장할 수 없음을 증명함.
*   **증거**: 57.8%의 낮은 재현율은 상용 서비스 불가능 수준.
*   **결론**: 검색 엔진에 쿼리를 던지기 전에, 반드시 **의미 추출(Keyword Extraction)** 및 **의도 파악(Intent Analysis)** 모듈을 거쳐 정제된 데이터를 사용해야 함.
    *   *Input*: "안 미끄러지는 욕실 매트 추천점" -> *Extracted*: `{"키워드": "욕실매트", "특징": "미끄럼방지", "의도": "욕실"}`

---

## **4. 향후 계획: 최적화 검증**

*   **목표**: "의미 추출"이 선행되었다고 가정했을 때의 시스템 성능 검증.
*   **검증 방법**: **Test 6** 실행 (문장 대신 **추출된 키워드**를 입력으로 사용)
*   **가설**: 입력값이 정제되면 검색 성능이 57%에서 90% 이상으로 급격히 상승할 것임. 이를 통해 아키텍처의 타당성("의미 추출 모듈의 필요성")을 역설적으로 증명함.
